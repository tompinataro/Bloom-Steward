rootProject.name = 'Bloom Steward'

def resolveFile(String relPath) {
  return new File(rootDir, relPath)
}

def rnCliGradle = resolveFile("../../node_modules/@react-native-community/cli-platform-android/native_modules.gradle")
if (!rnCliGradle.exists()) {
  rnCliGradle = resolveFile("../../../node_modules/@react-native-community/cli-platform-android/native_modules.gradle")
}
if (!rnCliGradle.exists()) {
  rnCliGradle = resolveFile("../../../../node_modules/@react-native-community/cli-platform-android/native_modules.gradle")
}
if (!rnCliGradle.exists()) {
  rnCliGradle = resolveFile("../../../../../node_modules/@react-native-community/cli-platform-android/native_modules.gradle")
}
apply from: rnCliGradle
applyNativeModulesSettingsGradle(settings)

def expoModulesPath = new File(
  ["node", "--print", "require.resolve('expo-modules-autolinking/package.json')"].execute(null, rootDir).text.trim()
).getParentFile().absolutePath
apply from: new File(expoModulesPath, "scripts/android/autolinking_implementation.gradle")
useExpoModules()

def rnGradlePlugin = resolveFile("../../node_modules/@react-native/gradle-plugin")
if (!rnGradlePlugin.exists()) {
  rnGradlePlugin = resolveFile("../../../node_modules/@react-native/gradle-plugin")
}
if (!rnGradlePlugin.exists()) {
  rnGradlePlugin = resolveFile("../../../../node_modules/@react-native/gradle-plugin")
}
if (!rnGradlePlugin.exists()) {
  rnGradlePlugin = resolveFile("../../../../../node_modules/@react-native/gradle-plugin")
}

include ':app'
includeBuild(rnGradlePlugin.absolutePath)
